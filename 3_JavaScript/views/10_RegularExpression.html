<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Document</title>
    </head>
    <body>
        <h1>정규표현식</h1>
        <h2>정규표현식의 객체 생성</h2>
        <button onclick="test1()">확인하기</button>
        <script>
            const test1 = () => {
                // 1. new
                // const regExp = new RegExp('script');
                // const regExp = new RegExp(/script/);
                // 2. 스크립트 작성
                const regExp = /script/;

                const str = 'javascript jquery ajax';

                console.log(regExp.test(str)); // test() : 해당 글자가 있으면 true, 없으면 false
                //console.log(str.search(regExp));
                console.log(regExp.exec(str)); // exec() : 해당 문자가 없으면 null, 있으면 배열 리턴
                //console.log(str.match(regExp));
            };
        </script>

        <h2>$&, $`, $'</h2>
        <button onclick="test2()"></button>
        <script>
            const test2 = () => {
                const regExp = /as/;
                const str = 'javascript jquery ajax sass';

                // 제일 처음 일치하는 문자열을 의미하는 $&
                console.log(str.replace(regExp, '($&)'));

                // 매칭된 문자열의 앞문자열을 의미하는 $`
                console.log(str.replace(regExp, '($`)'));

                // 매칭된 문자열의 뒤 문자열을 의미하는 $`
                console.log(str.replace(regExp, "($'')"));
            };
        </script>

        <h2>()소괄호와 |</h2>
        <button onclick="test3()">실행확인</button>
        <script>
            const test3 = () => {
                const src = ['월요일', '화요일', '수요일', '목요일', '금요일', '토요일', '일요일'];
                // const regExp = /(금요일|토요일|일요일)/;
                const regExp = /(금|토|일)요일/;
                for (const i of src) {
                    console.log(i + ' : ' + regExp.test(i));
                }
            };
        </script>

        <h2>플래그문자</h2>
        <button onclick="test4()">실행확인</button>
        <script>
            const test4 = () => {
                const str = 'JavaScript JQuery Ajax\nJAvaScript JQuery Ajax';

                const regExp1 = /a/;
                console.log(regExp1 + ' : ' + str.replace(regExp1, '($&)'));

                const regExp2 = /a/g; // g : 전역 비교 수행
                console.log(regExp1 + ' : ' + str.replace(regExp1, '($&)'));

                const regExp3 = /a/i; // i : 대소문자를 가리지 않고 비교 수행
                console.log(`${regExp3} : ${str.replace(regExp3, '($&)')}`);

                // 대소문자를 가리지 않고 모든 a 찾기
                const regExp4 = /a/gi;
                console.log(`${regExp4} : ${str.replace(regExp4, '($&)')}`);
            };
        </script>

        <h2>앵커문자</h2>
        <button onclick="test5()">실행확인</button>
        <script>
            const test5 = () => {
                const str1 = 'JavaScript\nJQuery\nAjax';

                // ^ 문자열의 앞
                // const regExp1 = /j/; //JavaScript JQuery A(j)ax
                // const regExp1 = /j/ig; //(J)avaScript (J)Query A(j)ax
                // const regExp1 = /^j/gi; //(J)avaScript JQuery Ajax
                const regExp1 = /^j/gim; //(J)avaScript (J)Query Ajax
                console.log(`${regExp1} : ${str1.replace(regExp1, '($&)')}`);

                // $ 문자열의 뒤
                const str2 = 'JavaScript\nDescription\nShellScript\nAjax';
                // const regExp2 = /ipt/; //JavaScr(ipt) Description ShellScript Ajax
                // const regExp2 = /ipt/g; //JavaScr(ipt) Descr(ipt)ion ShellScr(ipt) Ajax
                // const regExp2 = /ipt$/g; //JavaScript Description ShellScript Ajax
                const regExp2 = /ipt$/gm; //JavaScr(ipt) Description ShellScr(ipt) Ajax
                console.log(`${regExp2} : ${str2.replace(regExp2, '($&)')}`);
            };
        </script>

        <h2>수량문자</h2>
        <button onclick="test6()">실행확인</button>
        <script>
            const test6 = () => {
                const src = 'aabc abc bc';

                const regExp1 = /a*b/g; // a* : a가 0개 이상
                // (aab)c (ab)c (b)c
                console.log(`${regExp1} : ${src.replace(regExp1, '($&)')}`);

                const regExp2 = /a+b/g; // a+ : a가 1개 이상
                // (aab)c (ab)c bc
                console.log(`${regExp2} : ${src.replace(regExp2, '($&)')}`);

                const regExp3 = /a?b/g; // a? : a가 0개 이거나 1개
                // a(ab)c (ab)c (b)c
                console.log(`${regExp3} : ${src.replace(regExp3, '($&)')}`);
            };
        </script>

        <h3>{}를 이용해서 수량 표현</h3>
        <button onclick="test7()">실행확인</button>
        <script>
            const test7 = () => {
                const src = 'AA ABA ABBA ABBBA';

                // a{5} : a가 5개
                // a{2,5} : a가 2~5개
                // a{2,} : a가 2개 이상
                const regExp11 = /AB*A/g;
                // (AA) (ABA) (ABBA) (ABBBA)
                console.log(`${regExp11} : ${src.replace(regExp11, '($&)')}`);
                const regExp21 = /AB{0,}A/g;
                console.log(`${regExp21} : ${src.replace(regExp21, '($&)')}`);

                const regExp12 = /AB+A/g;
                // AA (ABA) (ABBA) (ABBBA)
                console.log(`${regExp11} : ${src.replace(regExp11, '($&)')}`);
                const regExp22 = /AB{1,}A/g;
                console.log(`${regExp22} : ${src.replace(regExp22, '($&)')}`);

                const regExp13 = /AB?A/g;
                // (AA) (ABA) ABBA ABBBA
                console.log(`${regExp11} : ${src.replace(regExp11, '($&)')}`);
                const regExp23 = /AB{0,1}A/g;
                console.log(`${regExp23} : ${src.replace(regExp23, '($&)')}`);
            };
        </script>

        <h2>메타문자와 []대괄호</h2>
        <button onclick="test8()">실행확인</button>
        <script>
            const test8 = () => {
                const str1 = 'JavaScrit JQuery Ajax';

                // [a,j] : a나 j검색
                const regExp1 = /[aj]/gi;
                console.log(`${regExp1} : ${str1.replace(regExp1, '($&)')}`);

                // [^a,j] : a, j 제외
                const regExp2 = /[^aj]/gi;
                console.log(`${regExp2} : ${str1.replace(regExp2, '($&)')}`);

                const str2 = '123JavaScript';
                // [a-z] : 소문자 모두 체크
                // [A-Z] : 대문자 모두 체크
                // [0-9] : 숫자 모두 체크
                // [0-9a-z]: 영어 소문자와 숫자만 체크(쉼표 넣으면 쉼표까지 체크,,)
                const regExp3 = /[a-z]/g;
                console.log(`${regExp3} : ${str1.replace(regExp3, '($&)')}`);
            };
        </script>
    </body>
</html>
